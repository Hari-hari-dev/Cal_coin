<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' 'unsafe-eval' https://unpkg.com;">

  <title>Solana DApp (Anchor v0.31.0)</title>

  <!-- Load Solana Web3.js -->
  <script src="https://unpkg.com/@solana/web3.js@1.98.0/lib/index.iife.min.js"></script>

  <!-- Load your UMD bundle (which should include Anchor v0.31.0) -->
  <script src="./bundle.js"></script>
  <script src="https://unpkg.com/buffer@6.0.3/index.js"></script>
  <script>
    // Expose Buffer globally
    window.Buffer = buffer.Buffer;
  </script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    button { margin: 5px; padding: 10px; }
    input { margin: 5px; padding: 10px; width: 300px; }
    #status { margin-top: 20px; padding: 10px; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>Solana DApp (Anchor v0.31.0)</h1>

  <!-- Wallet Connection -->
  <button id="connectWallet">Connect Wallet</button>
  <div id="walletAddress"></div>

  <!-- Set Exempt Address -->
  <h3>Set Exempt Address</h3>
  <input type="text" id="exemptAddress" placeholder="Enter Public Key">
  <button id="setExempt" disabled>Set Exempt</button>

  <!-- Register User -->
  <h3>Register User</h3>
  <button id="registerUser" disabled>Register User</button>

  <!-- Claim Tokens -->
  <h3>Claim Tokens</h3>
  <button id="claimTokens" disabled>Claim Tokens</button>

  <!-- Status Display -->
  <div id="status"></div>

  <script src="./page.js"></script>
</body>
</html>
